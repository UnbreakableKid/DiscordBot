import { eventHandlers } from "../../bot.ts";
import { cacheHandlers } from "../../cache.ts";
import { snowflakeToBigint } from "../../util/bigint.ts";
export async function handleMessageReactionRemoveAll(data) {
  const payload = data.d;
  const message = await cacheHandlers.get(
    "messages",
    snowflakeToBigint(payload.messageId),
  );
  if (message?.reactions) {
    message.reactions = undefined;
    await cacheHandlers.set(
      "messages",
      snowflakeToBigint(payload.messageId),
      message,
    );
  }
  eventHandlers.reactionRemoveAll?.(payload, message);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIjxodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZGlzY29yZGVuby9kaXNjb3JkZW5vL21haW4vc3JjL2hhbmRsZXJzL21lc3NhZ2VzL01FU1NBR0VfUkVBQ1RJT05fUkVNT1ZFX0FMTC50cz4iXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXZlbnRIYW5kbGVycyB9IGZyb20gXCIuLi8uLi9ib3QudHNcIjtcbmltcG9ydCB7IGNhY2hlSGFuZGxlcnMgfSBmcm9tIFwiLi4vLi4vY2FjaGUudHNcIjtcbmltcG9ydCB0eXBlIHsgRGlzY29yZEdhdGV3YXlQYXlsb2FkIH0gZnJvbSBcIi4uLy4uL3R5cGVzL2dhdGV3YXkvZ2F0ZXdheV9wYXlsb2FkLnRzXCI7XG5pbXBvcnQgdHlwZSB7XG4gIE1lc3NhZ2VSZWFjdGlvblJlbW92ZUFsbCxcbn0gZnJvbSBcIi4uLy4uL3R5cGVzL21lc3NhZ2VzL21lc3NhZ2VfcmVhY3Rpb25fcmVtb3ZlX2FsbC50c1wiO1xuaW1wb3J0IHsgc25vd2ZsYWtlVG9CaWdpbnQgfSBmcm9tIFwiLi4vLi4vdXRpbC9iaWdpbnQudHNcIjtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZU1lc3NhZ2VSZWFjdGlvblJlbW92ZUFsbChcbiAgZGF0YTogRGlzY29yZEdhdGV3YXlQYXlsb2FkLFxuKSB7XG4gIGNvbnN0IHBheWxvYWQgPSBkYXRhLmQgYXMgTWVzc2FnZVJlYWN0aW9uUmVtb3ZlQWxsO1xuICBjb25zdCBtZXNzYWdlID0gYXdhaXQgY2FjaGVIYW5kbGVycy5nZXQoXG4gICAgXCJtZXNzYWdlc1wiLFxuICAgIHNub3dmbGFrZVRvQmlnaW50KHBheWxvYWQubWVzc2FnZUlkKSxcbiAgKTtcblxuICBpZiAobWVzc2FnZT8ucmVhY3Rpb25zKSB7XG4gICAgbWVzc2FnZS5yZWFjdGlvbnMgPSB1bmRlZmluZWQ7XG5cbiAgICBhd2FpdCBjYWNoZUhhbmRsZXJzLnNldChcbiAgICAgIFwibWVzc2FnZXNcIixcbiAgICAgIHNub3dmbGFrZVRvQmlnaW50KHBheWxvYWQubWVzc2FnZUlkKSxcbiAgICAgIG1lc3NhZ2UsXG4gICAgKTtcbiAgfVxuXG4gIGV2ZW50SGFuZGxlcnMucmVhY3Rpb25SZW1vdmVBbGw/LihcbiAgICBwYXlsb2FkLFxuICAgIG1lc3NhZ2UsXG4gICk7XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IlNBQVMsYUFBYSxTQUFRLFlBQWM7U0FDbkMsYUFBYSxTQUFRLGNBQWdCO1NBS3JDLGlCQUFpQixTQUFRLG9CQUFzQjtzQkFFbEMsOEJBQThCLENBQ2xELElBQTJCO1VBRXJCLE9BQU8sR0FBRyxJQUFJLENBQUMsQ0FBQztVQUNoQixPQUFPLFNBQVMsYUFBYSxDQUFDLEdBQUcsRUFDckMsUUFBVSxHQUNWLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxTQUFTO1FBR2pDLE9BQU8sRUFBRSxTQUFTO1FBQ3BCLE9BQU8sQ0FBQyxTQUFTLEdBQUcsU0FBUztjQUV2QixhQUFhLENBQUMsR0FBRyxFQUNyQixRQUFVLEdBQ1YsaUJBQWlCLENBQUMsT0FBTyxDQUFDLFNBQVMsR0FDbkMsT0FBTzs7SUFJWCxhQUFhLENBQUMsaUJBQWlCLEdBQzdCLE9BQU8sRUFDUCxPQUFPIn0=
