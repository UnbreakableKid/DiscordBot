import { rest } from "../../rest/rest.ts";
import { Errors } from "../../types/discordeno/errors.ts";
import { endpoints } from "../../util/constants.ts";
import { requireBotChannelPermissions } from "../../util/permissions.ts";
/** Creates a new invite for this channel. Requires CREATE_INSTANT_INVITE */ export async function createInvite(channelId, options) {
    await requireBotChannelPermissions(channelId, [
        "CREATE_INSTANT_INVITE"
    ]);
    if (options.maxAge && (options.maxAge < 0 || options.maxAge > 604800)) {
        throw new Error(Errors.INVITE_MAX_AGE_INVALID);
    }
    if (options.maxUses && (options.maxUses < 0 || options.maxUses > 100)) {
        throw new Error(Errors.INVITE_MAX_USES_INVALID);
    }
    return await rest.runMethod("post", endpoints.CHANNEL_INVITES(channelId), options);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIjxodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZGlzY29yZGVuby9kaXNjb3JkZW5vL21haW4vc3JjL2hlbHBlcnMvaW52aXRlcy9jcmVhdGVfaW52aXRlLnRzPiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZXN0IH0gZnJvbSBcIi4uLy4uL3Jlc3QvcmVzdC50c1wiO1xuaW1wb3J0IHR5cGUgeyBDcmVhdGVDaGFubmVsSW52aXRlIH0gZnJvbSBcIi4uLy4uL3R5cGVzL2ludml0ZXMvY3JlYXRlX2NoYW5uZWxfaW52aXRlLnRzXCI7XG5pbXBvcnQgdHlwZSB7IEludml0ZSB9IGZyb20gXCIuLi8uLi90eXBlcy9pbnZpdGVzL2ludml0ZS50c1wiO1xuaW1wb3J0IHsgRXJyb3JzIH0gZnJvbSBcIi4uLy4uL3R5cGVzL2Rpc2NvcmRlbm8vZXJyb3JzLnRzXCI7XG5pbXBvcnQgeyBlbmRwb2ludHMgfSBmcm9tIFwiLi4vLi4vdXRpbC9jb25zdGFudHMudHNcIjtcbmltcG9ydCB7IHJlcXVpcmVCb3RDaGFubmVsUGVybWlzc2lvbnMgfSBmcm9tIFwiLi4vLi4vdXRpbC9wZXJtaXNzaW9ucy50c1wiO1xuXG4vKiogQ3JlYXRlcyBhIG5ldyBpbnZpdGUgZm9yIHRoaXMgY2hhbm5lbC4gUmVxdWlyZXMgQ1JFQVRFX0lOU1RBTlRfSU5WSVRFICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlSW52aXRlKFxuICBjaGFubmVsSWQ6IGJpZ2ludCxcbiAgb3B0aW9uczogQ3JlYXRlQ2hhbm5lbEludml0ZSxcbikge1xuICBhd2FpdCByZXF1aXJlQm90Q2hhbm5lbFBlcm1pc3Npb25zKGNoYW5uZWxJZCwgW1wiQ1JFQVRFX0lOU1RBTlRfSU5WSVRFXCJdKTtcblxuICBpZiAob3B0aW9ucy5tYXhBZ2UgJiYgKG9wdGlvbnMubWF4QWdlIDwgMCB8fCBvcHRpb25zLm1heEFnZSA+IDYwNDgwMCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoRXJyb3JzLklOVklURV9NQVhfQUdFX0lOVkFMSUQpO1xuICB9XG4gIGlmIChvcHRpb25zLm1heFVzZXMgJiYgKG9wdGlvbnMubWF4VXNlcyA8IDAgfHwgb3B0aW9ucy5tYXhVc2VzID4gMTAwKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihFcnJvcnMuSU5WSVRFX01BWF9VU0VTX0lOVkFMSUQpO1xuICB9XG5cbiAgcmV0dXJuIGF3YWl0IHJlc3QucnVuTWV0aG9kPEludml0ZT4oXG4gICAgXCJwb3N0XCIsXG4gICAgZW5kcG9pbnRzLkNIQU5ORUxfSU5WSVRFUyhjaGFubmVsSWQpLFxuICAgIG9wdGlvbnMsXG4gICk7XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IlNBQVMsSUFBSSxTQUFRLGtCQUFvQjtTQUdoQyxNQUFNLFNBQVEsZ0NBQWtDO1NBQ2hELFNBQVMsU0FBUSx1QkFBeUI7U0FDMUMsNEJBQTRCLFNBQVEseUJBQTJCO0FBRXhFLEVBQTRFLEFBQTVFLHdFQUE0RSxBQUE1RSxFQUE0RSx1QkFDdEQsWUFBWSxDQUNoQyxTQUFpQixFQUNqQixPQUE0QjtVQUV0Qiw0QkFBNEIsQ0FBQyxTQUFTO1NBQUcscUJBQXVCOztRQUVsRSxPQUFPLENBQUMsTUFBTSxLQUFLLE9BQU8sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxJQUFJLE9BQU8sQ0FBQyxNQUFNLEdBQUcsTUFBTTtrQkFDeEQsS0FBSyxDQUFDLE1BQU0sQ0FBQyxzQkFBc0I7O1FBRTNDLE9BQU8sQ0FBQyxPQUFPLEtBQUssT0FBTyxDQUFDLE9BQU8sR0FBRyxDQUFDLElBQUksT0FBTyxDQUFDLE9BQU8sR0FBRyxHQUFHO2tCQUN4RCxLQUFLLENBQUMsTUFBTSxDQUFDLHVCQUF1Qjs7aUJBR25DLElBQUksQ0FBQyxTQUFTLEVBQ3pCLElBQU0sR0FDTixTQUFTLENBQUMsZUFBZSxDQUFDLFNBQVMsR0FDbkMsT0FBTyJ9