import { rest } from "../../rest/rest.ts";
import { endpoints } from "../../util/constants.ts";
import { requireBotChannelPermissions } from "../../util/permissions.ts";
/** Removes all reactions for a single emoji on this message. Reaction takes the form of **name:id** for custom guild emoji, or Unicode characters. */ export async function removeReactionEmoji(
  channelId,
  messageId,
  reaction,
) {
  await requireBotChannelPermissions(channelId, [
    "MANAGE_MESSAGES",
  ]);
  if (reaction.startsWith("<:")) {
    reaction = reaction.substring(2, reaction.length - 1);
  } else if (reaction.startsWith("<a:")) {
    reaction = reaction.substring(3, reaction.length - 1);
  }
  return await rest.runMethod(
    "delete",
    endpoints.CHANNEL_MESSAGE_REACTION(channelId, messageId, reaction),
  );
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIjxodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZGlzY29yZGVuby9kaXNjb3JkZW5vL21haW4vc3JjL2hlbHBlcnMvbWVzc2FnZXMvcmVtb3ZlX3JlYWN0aW9uX2Vtb2ppLnRzPiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZXN0IH0gZnJvbSBcIi4uLy4uL3Jlc3QvcmVzdC50c1wiO1xuaW1wb3J0IHsgZW5kcG9pbnRzIH0gZnJvbSBcIi4uLy4uL3V0aWwvY29uc3RhbnRzLnRzXCI7XG5pbXBvcnQgeyByZXF1aXJlQm90Q2hhbm5lbFBlcm1pc3Npb25zIH0gZnJvbSBcIi4uLy4uL3V0aWwvcGVybWlzc2lvbnMudHNcIjtcblxuLyoqIFJlbW92ZXMgYWxsIHJlYWN0aW9ucyBmb3IgYSBzaW5nbGUgZW1vamkgb24gdGhpcyBtZXNzYWdlLiBSZWFjdGlvbiB0YWtlcyB0aGUgZm9ybSBvZiAqKm5hbWU6aWQqKiBmb3IgY3VzdG9tIGd1aWxkIGVtb2ppLCBvciBVbmljb2RlIGNoYXJhY3RlcnMuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVtb3ZlUmVhY3Rpb25FbW9qaShcbiAgY2hhbm5lbElkOiBiaWdpbnQsXG4gIG1lc3NhZ2VJZDogYmlnaW50LFxuICByZWFjdGlvbjogc3RyaW5nLFxuKSB7XG4gIGF3YWl0IHJlcXVpcmVCb3RDaGFubmVsUGVybWlzc2lvbnMoY2hhbm5lbElkLCBbXCJNQU5BR0VfTUVTU0FHRVNcIl0pO1xuXG4gIGlmIChyZWFjdGlvbi5zdGFydHNXaXRoKFwiPDpcIikpIHtcbiAgICByZWFjdGlvbiA9IHJlYWN0aW9uLnN1YnN0cmluZygyLCByZWFjdGlvbi5sZW5ndGggLSAxKTtcbiAgfSBlbHNlIGlmIChyZWFjdGlvbi5zdGFydHNXaXRoKFwiPGE6XCIpKSB7XG4gICAgcmVhY3Rpb24gPSByZWFjdGlvbi5zdWJzdHJpbmcoMywgcmVhY3Rpb24ubGVuZ3RoIC0gMSk7XG4gIH1cblxuICByZXR1cm4gYXdhaXQgcmVzdC5ydW5NZXRob2Q8dW5kZWZpbmVkPihcbiAgICBcImRlbGV0ZVwiLFxuICAgIGVuZHBvaW50cy5DSEFOTkVMX01FU1NBR0VfUkVBQ1RJT04oY2hhbm5lbElkLCBtZXNzYWdlSWQsIHJlYWN0aW9uKSxcbiAgKTtcbn1cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiU0FBUyxJQUFJLFNBQVEsa0JBQW9CO1NBQ2hDLFNBQVMsU0FBUSx1QkFBeUI7U0FDMUMsNEJBQTRCLFNBQVEseUJBQTJCO0FBRXhFLEVBQXNKLEFBQXRKLGtKQUFzSixBQUF0SixFQUFzSix1QkFDaEksbUJBQW1CLENBQ3ZDLFNBQWlCLEVBQ2pCLFNBQWlCLEVBQ2pCLFFBQWdCO1VBRVYsNEJBQTRCLENBQUMsU0FBUztTQUFHLGVBQWlCOztRQUU1RCxRQUFRLENBQUMsVUFBVSxFQUFDLEVBQUk7UUFDMUIsUUFBUSxHQUFHLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQztlQUMzQyxRQUFRLENBQUMsVUFBVSxFQUFDLEdBQUs7UUFDbEMsUUFBUSxHQUFHLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQzs7aUJBR3pDLElBQUksQ0FBQyxTQUFTLEVBQ3pCLE1BQVEsR0FDUixTQUFTLENBQUMsd0JBQXdCLENBQUMsU0FBUyxFQUFFLFNBQVMsRUFBRSxRQUFRIn0=
