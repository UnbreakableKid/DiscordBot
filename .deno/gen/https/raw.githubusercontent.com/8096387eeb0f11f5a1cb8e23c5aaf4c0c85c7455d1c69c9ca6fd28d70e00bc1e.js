import { rest } from "../../rest/rest.ts";
import { structures } from "../../structures/mod.ts";
import { endpoints } from "../../util/constants.ts";
import { calculateBits, requireBotGuildPermissions } from "../../util/permissions.ts";
/** Edit a guild role. Requires the MANAGE_ROLES permission. */ export async function editRole(guildId, id, options) {
    await requireBotGuildPermissions(guildId, [
        "MANAGE_ROLES"
    ]);
    const result = await rest.runMethod("patch", endpoints.GUILD_ROLE(guildId, id), {
        ...options,
        permissions: options.permissions ? calculateBits(options.permissions) : undefined
    });
    return await structures.createDiscordenoRole({
        role: result,
        guildId
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIjxodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZGlzY29yZGVuby9kaXNjb3JkZW5vL21haW4vc3JjL2hlbHBlcnMvcm9sZXMvZWRpdF9yb2xlLnRzPiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByZXN0IH0gZnJvbSBcIi4uLy4uL3Jlc3QvcmVzdC50c1wiO1xuaW1wb3J0IHsgc3RydWN0dXJlcyB9IGZyb20gXCIuLi8uLi9zdHJ1Y3R1cmVzL21vZC50c1wiO1xuaW1wb3J0IHR5cGUgeyBDcmVhdGVHdWlsZFJvbGUgfSBmcm9tIFwiLi4vLi4vdHlwZXMvZ3VpbGRzL2NyZWF0ZV9ndWlsZF9yb2xlLnRzXCI7XG5pbXBvcnQgdHlwZSB7IFJvbGUgfSBmcm9tIFwiLi4vLi4vdHlwZXMvcGVybWlzc2lvbnMvcm9sZS50c1wiO1xuaW1wb3J0IHsgZW5kcG9pbnRzIH0gZnJvbSBcIi4uLy4uL3V0aWwvY29uc3RhbnRzLnRzXCI7XG5pbXBvcnQge1xuICBjYWxjdWxhdGVCaXRzLFxuICByZXF1aXJlQm90R3VpbGRQZXJtaXNzaW9ucyxcbn0gZnJvbSBcIi4uLy4uL3V0aWwvcGVybWlzc2lvbnMudHNcIjtcblxuLyoqIEVkaXQgYSBndWlsZCByb2xlLiBSZXF1aXJlcyB0aGUgTUFOQUdFX1JPTEVTIHBlcm1pc3Npb24uICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZWRpdFJvbGUoXG4gIGd1aWxkSWQ6IGJpZ2ludCxcbiAgaWQ6IGJpZ2ludCxcbiAgb3B0aW9uczogQ3JlYXRlR3VpbGRSb2xlLFxuKSB7XG4gIGF3YWl0IHJlcXVpcmVCb3RHdWlsZFBlcm1pc3Npb25zKGd1aWxkSWQsIFtcIk1BTkFHRV9ST0xFU1wiXSk7XG5cbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzdC5ydW5NZXRob2Q8Um9sZT4oXG4gICAgXCJwYXRjaFwiLFxuICAgIGVuZHBvaW50cy5HVUlMRF9ST0xFKGd1aWxkSWQsIGlkKSxcbiAgICB7XG4gICAgICAuLi5vcHRpb25zLFxuICAgICAgcGVybWlzc2lvbnM6IG9wdGlvbnMucGVybWlzc2lvbnNcbiAgICAgICAgPyBjYWxjdWxhdGVCaXRzKG9wdGlvbnMucGVybWlzc2lvbnMpXG4gICAgICAgIDogdW5kZWZpbmVkLFxuICAgIH0sXG4gICk7XG5cbiAgcmV0dXJuIGF3YWl0IHN0cnVjdHVyZXMuY3JlYXRlRGlzY29yZGVub1JvbGUoeyByb2xlOiByZXN1bHQsIGd1aWxkSWQgfSk7XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IlNBQVMsSUFBSSxTQUFRLGtCQUFvQjtTQUNoQyxVQUFVLFNBQVEsdUJBQXlCO1NBRzNDLFNBQVMsU0FBUSx1QkFBeUI7U0FFakQsYUFBYSxFQUNiLDBCQUEwQixTQUNyQix5QkFBMkI7QUFFbEMsRUFBK0QsQUFBL0QsMkRBQStELEFBQS9ELEVBQStELHVCQUN6QyxRQUFRLENBQzVCLE9BQWUsRUFDZixFQUFVLEVBQ1YsT0FBd0I7VUFFbEIsMEJBQTBCLENBQUMsT0FBTztTQUFHLFlBQWM7O1VBRW5ELE1BQU0sU0FBUyxJQUFJLENBQUMsU0FBUyxFQUNqQyxLQUFPLEdBQ1AsU0FBUyxDQUFDLFVBQVUsQ0FBQyxPQUFPLEVBQUUsRUFBRTtXQUUzQixPQUFPO1FBQ1YsV0FBVyxFQUFFLE9BQU8sQ0FBQyxXQUFXLEdBQzVCLGFBQWEsQ0FBQyxPQUFPLENBQUMsV0FBVyxJQUNqQyxTQUFTOztpQkFJSixVQUFVLENBQUMsb0JBQW9CO1FBQUcsSUFBSSxFQUFFLE1BQU07UUFBRSxPQUFPIn0=