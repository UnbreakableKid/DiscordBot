import { botId } from "../../bot.ts";
import { rest } from "../../rest/rest.ts";
import { Errors } from "../../types/discordeno/errors.ts";
import { endpoints } from "../../util/constants.ts";
import { highestRole, requireBotGuildPermissions } from "../../util/permissions.ts";
/** Kick a member from the server */ export async function kick(guildId, memberId, reason) {
    const botsHighestRole = await highestRole(guildId, botId);
    const membersHighestRole = await highestRole(guildId, memberId);
    if (botsHighestRole && membersHighestRole && botsHighestRole.position <= membersHighestRole.position) {
        throw new Error(Errors.BOTS_HIGHEST_ROLE_TOO_LOW);
    }
    await requireBotGuildPermissions(guildId, [
        "KICK_MEMBERS"
    ]);
    return await rest.runMethod("delete", endpoints.GUILD_MEMBER(guildId, memberId), {
        reason
    });
}
// aliases
export { kick as kickMember };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIjxodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vZGlzY29yZGVuby9kaXNjb3JkZW5vL21haW4vc3JjL2hlbHBlcnMvbWVtYmVycy9raWNrX21lbWJlci50cz4iXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYm90SWQgfSBmcm9tIFwiLi4vLi4vYm90LnRzXCI7XG5pbXBvcnQgeyByZXN0IH0gZnJvbSBcIi4uLy4uL3Jlc3QvcmVzdC50c1wiO1xuaW1wb3J0IHsgRXJyb3JzIH0gZnJvbSBcIi4uLy4uL3R5cGVzL2Rpc2NvcmRlbm8vZXJyb3JzLnRzXCI7XG5pbXBvcnQgeyBlbmRwb2ludHMgfSBmcm9tIFwiLi4vLi4vdXRpbC9jb25zdGFudHMudHNcIjtcbmltcG9ydCB7XG4gIGhpZ2hlc3RSb2xlLFxuICByZXF1aXJlQm90R3VpbGRQZXJtaXNzaW9ucyxcbn0gZnJvbSBcIi4uLy4uL3V0aWwvcGVybWlzc2lvbnMudHNcIjtcblxuLyoqIEtpY2sgYSBtZW1iZXIgZnJvbSB0aGUgc2VydmVyICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24ga2ljayhndWlsZElkOiBiaWdpbnQsIG1lbWJlcklkOiBiaWdpbnQsIHJlYXNvbj86IHN0cmluZykge1xuICBjb25zdCBib3RzSGlnaGVzdFJvbGUgPSBhd2FpdCBoaWdoZXN0Um9sZShndWlsZElkLCBib3RJZCk7XG4gIGNvbnN0IG1lbWJlcnNIaWdoZXN0Um9sZSA9IGF3YWl0IGhpZ2hlc3RSb2xlKGd1aWxkSWQsIG1lbWJlcklkKTtcbiAgaWYgKFxuICAgIGJvdHNIaWdoZXN0Um9sZSAmJiBtZW1iZXJzSGlnaGVzdFJvbGUgJiZcbiAgICBib3RzSGlnaGVzdFJvbGUucG9zaXRpb24gPD0gbWVtYmVyc0hpZ2hlc3RSb2xlLnBvc2l0aW9uXG4gICkge1xuICAgIHRocm93IG5ldyBFcnJvcihFcnJvcnMuQk9UU19ISUdIRVNUX1JPTEVfVE9PX0xPVyk7XG4gIH1cblxuICBhd2FpdCByZXF1aXJlQm90R3VpbGRQZXJtaXNzaW9ucyhndWlsZElkLCBbXCJLSUNLX01FTUJFUlNcIl0pO1xuXG4gIHJldHVybiBhd2FpdCByZXN0LnJ1bk1ldGhvZDx1bmRlZmluZWQ+KFxuICAgIFwiZGVsZXRlXCIsXG4gICAgZW5kcG9pbnRzLkdVSUxEX01FTUJFUihndWlsZElkLCBtZW1iZXJJZCksXG4gICAgeyByZWFzb24gfSxcbiAgKTtcbn1cblxuLy8gYWxpYXNlc1xuZXhwb3J0IHsga2ljayBhcyBraWNrTWVtYmVyIH07XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IlNBQVMsS0FBSyxTQUFRLFlBQWM7U0FDM0IsSUFBSSxTQUFRLGtCQUFvQjtTQUNoQyxNQUFNLFNBQVEsZ0NBQWtDO1NBQ2hELFNBQVMsU0FBUSx1QkFBeUI7U0FFakQsV0FBVyxFQUNYLDBCQUEwQixTQUNyQix5QkFBMkI7QUFFbEMsRUFBb0MsQUFBcEMsZ0NBQW9DLEFBQXBDLEVBQW9DLHVCQUNkLElBQUksQ0FBQyxPQUFlLEVBQUUsUUFBZ0IsRUFBRSxNQUFlO1VBQ3JFLGVBQWUsU0FBUyxXQUFXLENBQUMsT0FBTyxFQUFFLEtBQUs7VUFDbEQsa0JBQWtCLFNBQVMsV0FBVyxDQUFDLE9BQU8sRUFBRSxRQUFRO1FBRTVELGVBQWUsSUFBSSxrQkFBa0IsSUFDckMsZUFBZSxDQUFDLFFBQVEsSUFBSSxrQkFBa0IsQ0FBQyxRQUFRO2tCQUU3QyxLQUFLLENBQUMsTUFBTSxDQUFDLHlCQUF5Qjs7VUFHNUMsMEJBQTBCLENBQUMsT0FBTztTQUFHLFlBQWM7O2lCQUU1QyxJQUFJLENBQUMsU0FBUyxFQUN6QixNQUFRLEdBQ1IsU0FBUyxDQUFDLFlBQVksQ0FBQyxPQUFPLEVBQUUsUUFBUTtRQUN0QyxNQUFNOzs7QUFJWixFQUFVLEFBQVYsUUFBVTtTQUNELElBQUksSUFBSSxVQUFVIn0=